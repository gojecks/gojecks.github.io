<!doctype>
<html j-Module="chat.service">
<head>
<title>Simple Chat service </title>
<!-- <script src="../jQuery1.8b2.min.js" type="text/javascript"></script> -->
<script src="../libs.min.js" type="text/javascript"></script>
<script src="apps.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="../css/bootstrap.min.css" />
<style>

      * {
  box-sizing: border-box;
}

body {
  padding: 20px;
  padding-top:70px;
  /*background: #2c3e50;*/
}
.prn{
	padding-right:0;
}
.pln{
	padding-left:0;
}
.pn{
	padding:0;
}

    
</style>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
  <div class="navbar-header">
      <a class="navbar-brand">jEli Chat Service</a>
  </div>
  </div>
</nav>
<div class="container-fluid">
<div class="col-xs-3 col-md-3"></div>
<div class="col-xs-6 col-md-6">
	<chat-app>
	<div class="panel panel-default" j-if="!chat.userConnected">
      <div class="panel-heading">Create username</div>
      <div class="panel-body">
        <div  class="form-group">
            <input type="text" placeholder="username" j-model="chat.username"  class="form-control">
        </div>
      </div>
      <div class="panel-footer clearfix">
      	        <div class="pull-right"><button j-click="$create()" class="btn btn-primary">Connect</button></div>
      </div>
      </div>
      	<div class="panel panel-default" j-if="chat.userConnected">
      <div class="panel-heading"><strong>{%chat.username%}</strong> <a j-click="$disconnect()" class="pull-right">Sign-out</a></div>
      <div class="panel-body pn">
        <div  class="form-group" style="max-height:76%;overflow-x:hidden">
            <ul class="list-group">
            	<li j-for="(key,chats) in chat.chatList" class="list-group-item">
            		<div class="clearfix">
            			<div  class="pull-left"><strong>{%chats._data.user%}</strong> </div><div class="pull-right"><small>{%chats._data.time | dateTime:'YYYY-MM-DD hh:m:s'%}</small></div>
            		</div>
            			<small>{%chats._data.message%}</small>
            	</li>
            </ul>
        </div>
      </div>
      <div class="panel-footer">
      	<textarea class="form-control" j-keydown="$postChat($event)"></textarea>
      </div>
      </div>
	</chat-app>
</div>
<div class="col-xs-3 col-md-3"></div>
</div>
</body>
</html>